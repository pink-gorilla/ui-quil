["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/dagre/lib/order/sort-subgraph.js"],"~:js","shadow$provide.module$node_modules$dagre$lib$order$sort_subgraph=function(global,require,module,exports){function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),bl=(v=g.node(v))?v.borderLeft:void 0,br=v?v.borderRight:void 0,subgraphs={};bl&&(movable=_.filter(movable,function(w){return w!==bl&&w!==br}));movable=barycenter(g,movable);_.forEach(movable,function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult;_.has(subgraphResult,\n\"barycenter\")&&(_.isUndefined(entry.barycenter)?(entry.barycenter=subgraphResult.barycenter,entry.weight=subgraphResult.weight):(entry.barycenter=(entry.barycenter*entry.weight+subgraphResult.barycenter*subgraphResult.weight)/(entry.weight+subgraphResult.weight),entry.weight+=subgraphResult.weight))}});movable=resolveConflicts(movable,cg);expandSubgraphs(movable,subgraphs);movable=sort(movable,biasRight);if(bl&&(movable.vs=_.flatten([bl,movable.vs,br],!0),g.predecessors(bl).length)){v=g.node(g.predecessors(bl)[0]);\nvar brPred=g.node(g.predecessors(br)[0]);_.has(movable,\"barycenter\")||(movable.barycenter=0,movable.weight=0);movable.barycenter=(movable.barycenter*movable.weight+v.order+brPred.order)/(movable.weight+2);movable.weight+=2}return movable}function expandSubgraphs(entries,subgraphs){_.forEach(entries,function(entry){entry.vs=_.flatten(entry.vs.map(function(v){return subgraphs[v]?subgraphs[v].vs:v}),!0)})}var _=require(\"module$node_modules$dagre$lib$lodash\"),barycenter=require(\"module$node_modules$dagre$lib$order$barycenter\"),\nresolveConflicts=require(\"module$node_modules$dagre$lib$order$resolve_conflicts\"),sort=require(\"module$node_modules$dagre$lib$order$sort\");module.exports=sortSubgraph}","~:source","shadow$provide[\"module$node_modules$dagre$lib$order$sort_subgraph\"] = function(global,require,module,exports) {\nvar _ = require(\"../lodash\");\nvar barycenter = require(\"./barycenter\");\nvar resolveConflicts = require(\"./resolve-conflicts\");\nvar sort = require(\"./sort\");\n\nmodule.exports = sortSubgraph;\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight: undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function(w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function(entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, \"barycenter\")) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br], true);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, \"barycenter\")) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight +\n                           blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function(entry) {\n    entry.vs = _.flatten(entry.vs.map(function(v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }), true);\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight +\n                         other.barycenter * other.weight) /\n                        (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js","~$module$node_modules$dagre$lib$order$barycenter","~$module$node_modules$dagre$lib$order$sort","~$module$node_modules$dagre$lib$order$resolve_conflicts","~$module$node_modules$dagre$lib$lodash"]],"~:properties",["^5",["barycenter","vs","weight"]],"~:compiled-at",1621210442127,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$dagre$lib$order$sort_subgraph.js\",\n\"lineCount\":4,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/dagre/lib/order/sort-subgraph.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$dagre$lib$order$sort_subgraph\\\"] = function(global,require,module,exports) {\\nvar _ = require(\\\"../lodash\\\");\\nvar barycenter = require(\\\"./barycenter\\\");\\nvar resolveConflicts = require(\\\"./resolve-conflicts\\\");\\nvar sort = require(\\\"./sort\\\");\\n\\nmodule.exports = sortSubgraph;\\n\\nfunction sortSubgraph(g, v, cg, biasRight) {\\n  var movable = g.children(v);\\n  var node = g.node(v);\\n  var bl = node ? node.borderLeft : undefined;\\n  var br = node ? node.borderRight: undefined;\\n  var subgraphs = {};\\n\\n  if (bl) {\\n    movable = _.filter(movable, function(w) {\\n      return w !== bl && w !== br;\\n    });\\n  }\\n\\n  var barycenters = barycenter(g, movable);\\n  _.forEach(barycenters, function(entry) {\\n    if (g.children(entry.v).length) {\\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\\n      subgraphs[entry.v] = subgraphResult;\\n      if (_.has(subgraphResult, \\\"barycenter\\\")) {\\n        mergeBarycenters(entry, subgraphResult);\\n      }\\n    }\\n  });\\n\\n  var entries = resolveConflicts(barycenters, cg);\\n  expandSubgraphs(entries, subgraphs);\\n\\n  var result = sort(entries, biasRight);\\n\\n  if (bl) {\\n    result.vs = _.flatten([bl, result.vs, br], true);\\n    if (g.predecessors(bl).length) {\\n      var blPred = g.node(g.predecessors(bl)[0]),\\n        brPred = g.node(g.predecessors(br)[0]);\\n      if (!_.has(result, \\\"barycenter\\\")) {\\n        result.barycenter = 0;\\n        result.weight = 0;\\n      }\\n      result.barycenter = (result.barycenter * result.weight +\\n                           blPred.order + brPred.order) / (result.weight + 2);\\n      result.weight += 2;\\n    }\\n  }\\n\\n  return result;\\n}\\n\\nfunction expandSubgraphs(entries, subgraphs) {\\n  _.forEach(entries, function(entry) {\\n    entry.vs = _.flatten(entry.vs.map(function(v) {\\n      if (subgraphs[v]) {\\n        return subgraphs[v].vs;\\n      }\\n      return v;\\n    }), true);\\n  });\\n}\\n\\nfunction mergeBarycenters(target, other) {\\n  if (!_.isUndefined(target.barycenter)) {\\n    target.barycenter = (target.barycenter * target.weight +\\n                         other.barycenter * other.weight) /\\n                        (target.weight + other.weight);\\n    target.weight += other.weight;\\n  } else {\\n    target.barycenter = other.barycenter;\\n    target.weight = other.weight;\\n  }\\n}\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"sortSubgraph\",\"g\",\"v\",\"cg\",\"biasRight\",\"movable\",\"children\",\"bl\",\"node\",\"borderLeft\",\"undefined\",\"br\",\"borderRight\",\"subgraphs\",\"_\",\"filter\",\"w\",\"barycenters\",\"barycenter\",\"forEach\",\"entry\",\"length\",\"subgraphResult\",\"has\",\"isUndefined\",\"weight\",\"entries\",\"resolveConflicts\",\"expandSubgraphs\",\"result\",\"sort\",\"vs\",\"flatten\",\"predecessors\",\"blPred\",\"brPred\",\"order\",\"map\"]\n}\n"]